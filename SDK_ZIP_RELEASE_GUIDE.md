# SDK Zip Release Guide

## ğŸ“¦ How SDK Zip Files Are Handled

### Overview

The PLHub release automation creates SDK zip packages but **does NOT commit them to Git**. Instead, they are:

1. âœ… Created locally during release
2. âœ… Checksum file (`.sha256`) is committed to Git
3. âœ… Zip file is uploaded as a **GitHub Release Asset**

### Why Not Commit Zip Files?

**Large binary files don't belong in Git repositories:**
- âŒ Bloats repository size
- âŒ Slows down clones
- âŒ Makes diffs impossible
- âŒ Wastes bandwidth

**Better approach - GitHub Release Assets:**
- âœ… Optimized for binary files
- âœ… Fast downloads
- âœ… Doesn't bloat repository
- âœ… Easy to download

---

## ğŸš€ Automated Release Process

### What Gets Committed to Git

```bash
âœ… Version files (setup.py, plhub.py, etc.)
âœ… Documentation (CHANGELOG.md, RELEASE_NOTES.md)
âœ… Checksum files (*.zip.sha256)
âŒ SDK zip files (*.zip) - EXCLUDED by .gitignore
âŒ Build artifacts (dist/, build/, *.whl)
```

### What Gets Uploaded to GitHub Release

```bash
âœ… SDK zip file (plhub-sdk-X.Y.Z.zip)
âœ… Source code (auto-generated by GitHub)
âœ… Checksum file (optional, for verification)
```

---

## ğŸ”§ How It Works

### During Release Automation

When you run:
```bash
python tools/release_automation.py --bump patch
```

**The automation does this:**

1. **Update versions** âœ…
   - Updates all version strings
   - Updates CHANGELOG
   - Generates RELEASE_NOTES.md

2. **Create SDK package** âœ…
   ```
   plhub-sdk-0.5.1.zip          (9.16 MB) - Created locally
   plhub-sdk-0.5.1.zip.sha256   (87 bytes) - Committed to Git
   ```

3. **Git operations** âœ…
   ```bash
   git add .                    # Adds everything except *.zip (in .gitignore)
   git commit -m "Release vX.Y.Z"
   git tag -a vX.Y.Z
   git push origin main
   git push origin vX.Y.Z
   ```

4. **Open GitHub release page** âœ…
   - Shows you the zip file location
   - Provides full path for easy drag-and-drop
   - Opens browser to release page

---

## ğŸ“‹ Complete Release Checklist

### Automated Steps (Done by Tool)

- [x] Update version in all files
- [x] Update CHANGELOG.md
- [x] Generate RELEASE_NOTES.md
- [x] Create SDK zip package
- [x] Calculate SHA256 checksum
- [x] Commit checksum file
- [x] Git commit, tag, and push
- [x] Build PyPI distributions (optional)
- [x] Publish to PyPI (optional)
- [x] Open GitHub release page

### Manual Steps (You Do This)

1. **On GitHub Release Page:**
   - [ ] Review pre-filled tag (`v0.5.1`) and title
   - [ ] Copy release notes from `RELEASE_NOTES.md`
   - [ ] Drag and drop `plhub-sdk-X.Y.Z.zip` (shown in console)
   - [ ] Optionally attach `plhub-sdk-X.Y.Z.zip.sha256`
   - [ ] Click "Publish release"

2. **Post-Release:**
   - [ ] Verify release: `https://github.com/AlhaqGH/PLHub/releases/tag/vX.Y.Z`
   - [ ] Test download of SDK zip
   - [ ] Verify PyPI: `https://pypi.org/project/plhub/`
   - [ ] Test: `pip install --upgrade plhub==X.Y.Z`

---

## ğŸ¯ Improved GitHub Release Instructions

The automation now shows:

```
ğŸŒ Creating GitHub release...
  ğŸ“¦ SDK Package: plhub-sdk-0.5.1.zip (9.16 MB)
  ğŸ“ Location: C:\Users\habib\POHLANG\PLHub\plhub-sdk-0.5.1.zip
  ğŸŒ Opening GitHub release page: https://...

  â„¹ï¸  Please complete the release on GitHub:
     1. Review the pre-filled tag and title
     2. Copy release notes from RELEASE_NOTES.md
     3. Drag and drop: C:\Users\habib\POHLANG\PLHub\plhub-sdk-0.5.1.zip
        (or attach plhub-sdk-0.5.1.zip manually)
     4. Optionally attach plhub-sdk-0.5.1.zip.sha256
     5. Click 'Publish release'
```

**Now you know exactly:**
- âœ… Where the zip file is
- âœ… What size it is
- âœ… How to attach it (drag and drop)

---

## ğŸ“ File Locations

After running release automation:

```
PLHub/
â”œâ”€â”€ plhub-sdk-0.5.1.zip              â† Upload to GitHub Release
â”œâ”€â”€ plhub-sdk-0.5.1.zip.sha256       â† Committed to Git âœ…
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ plhub-0.5.1.tar.gz          â† Uploaded to PyPI
â”‚   â””â”€â”€ plhub-0.5.1-py3-none-any.whl â† Uploaded to PyPI
â””â”€â”€ ... (other files committed to Git)
```

---

## ğŸ” Verification

### Verify Checksum is Committed

```bash
git log --oneline --all -- "*.zip.sha256"
```

### Verify Zip is NOT Committed

```bash
git ls-files "*.zip"
# Should return nothing (empty)
```

### Verify Zip is Ignored

```bash
git status
# Should NOT show *.zip as untracked
```

---

## ğŸ“ Best Practices

### âœ… DO

- âœ… Commit checksum files (`.sha256`)
- âœ… Upload zip to GitHub Releases
- âœ… Provide download links to releases
- âœ… Keep repository clean

### âŒ DON'T

- âŒ Commit large zip files to Git
- âŒ Commit build artifacts
- âŒ Commit binary files
- âŒ Force-add ignored files

---

## ğŸš€ Quick Commands

### Create Release with Zip

```bash
# Full automated release
python tools/release_automation.py --bump patch

# This creates the zip and shows you where it is
# Then manually upload to GitHub release page
```

### Just Create Zip (No Release)

```bash
# Use the automation in "skip" mode
python tools/release_automation.py --version 0.5.1 --skip-git --skip-pypi
```

### Verify Zip Integrity

```bash
# On Windows (PowerShell)
(Get-FileHash plhub-sdk-0.5.1.zip -Algorithm SHA256).Hash

# Compare with .sha256 file
Get-Content plhub-sdk-0.5.1.zip.sha256
```

---

## ğŸ“– Summary

**The improved release automation:**

1. âœ… Creates SDK zip locally
2. âœ… Shows exact file location
3. âœ… Commits checksum to Git
4. âœ… Opens release page with instructions
5. âœ… Tells you to drag and drop the zip

**You just need to:**

1. Drag and drop the zip file (path is shown)
2. Click "Publish release"

**That's it! ğŸ‰**

---

## ğŸ”— Related Files

- `.gitignore` - Excludes `*.zip`, allows `!*.zip.sha256`
- `tools/release_automation.py` - Creates zip and shows location
- `RELEASE_NOTES.md` - Content for GitHub release
- `CHANGELOG.md` - Version history

---

**The zip is now properly integrated into the automated release process!** ğŸš€

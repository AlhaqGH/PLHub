Start Program

# ================================================
# Todo List Manager v1.0
# Complete task management application
# Features: Add, edit, delete, filter, priorities
# ================================================

Write "════════════════════════════════════════"
Write "      TODO LIST MANAGER v1.0"
Write "════════════════════════════════════════"
Write ""

# Initialize data structures
Set todos to []
Set next_id to 1
Set running to True

# Main application loop
While running is True
    Write ""
    Write "────────────────────────────────────────"
    Write "MAIN MENU"
    Write "────────────────────────────────────────"
    Write "  1. View All Tasks"
    Write "  2. Add New Task"
    Write "  3. Complete Task"
    Write "  4. Delete Task"
    Write "  5. View by Priority"
    Write "  6. View by Status"
    Write "  7. Search Tasks"
    Write "  8. Statistics"
    Write "  9. Exit"
    Write "────────────────────────────────────────"
    Write "Enter choice (1-9):"
    Ask for choice
    
    # Handle menu selection
    If choice is "1"
        # View all tasks
        Write ""
        Write "════════════════════════════════════════"
        Write "        ALL TASKS"
        Write "════════════════════════════════════════"
        
        If count of todos is 0
            Write "No tasks yet. Add your first task!"
        Otherwise
            Set index to 0
            While index less than count of todos
                Set todo to todos at index
                
                # Extract todo properties
                Set id to todo at 0
                Set title to todo at 1
                Set priority to todo at 2
                Set completed to todo at 3
                
                # Format display
                Set status_icon to "⬜"
                If completed is True
                    Set status_icon to "✅"
                End If
                
                Set priority_text to "LOW"
                If priority is 2
                    Set priority_text to "MED"
                Otherwise If priority is 3
                    Set priority_text to "HIGH"
                End If
                
                Write "[" plus id plus "] " plus status_icon plus " " plus title plus " (" plus priority_text plus ")"
                
                Set index to index plus 1
            End While
        End If
        Write "════════════════════════════════════════"
        
    Otherwise If choice is "2"
        # Add new task
        Write ""
        Write "ADD NEW TASK"
        Write "────────────────────────────────────────"
        Write "Task title:"
        Ask for title
        
        Write "Priority (1=Low, 2=Medium, 3=High):"
        Ask for priority
        
        # Create new todo item [id, title, priority, completed]
        Set new_todo to [next_id, title, priority, False]
        Set todos to append new_todo to todos
        Set next_id to next_id plus 1
        
        Write "✓ Task added successfully!"
        
    Otherwise If choice is "3"
        # Complete task
        Write ""
        Write "COMPLETE TASK"
        Write "────────────────────────────────────────"
        Write "Enter task ID:"
        Ask for task_id
        
        # Find and update task
        Set found to False
        Set index to 0
        While index less than count of todos
            Set todo to todos at index
            Set id to todo at 0
            
            If id is task_id
                Set found to True
                # Update completed status
                Set title to todo at 1
                Set priority to todo at 2
                Set updated_todo to [id, title, priority, True]
                
                # Update in list (rebuild list)
                Set new_todos to []
                Set j to 0
                While j less than count of todos
                    If j is index
                        Set new_todos to append updated_todo to new_todos
                    Otherwise
                        Set new_todos to append (todos at j) to new_todos
                    End If
                    Set j to j plus 1
                End While
                Set todos to new_todos
                
                Write "✓ Task marked as complete!"
            End If
            
            Set index to index plus 1
        End While
        
        If found is False
            Write "✗ Task not found!"
        End If
        
    Otherwise If choice is "4"
        # Delete task
        Write ""
        Write "DELETE TASK"
        Write "────────────────────────────────────────"
        Write "Enter task ID:"
        Ask for task_id
        
        # Find and delete task
        Set found to False
        Set new_todos to []
        Set index to 0
        While index less than count of todos
            Set todo to todos at index
            Set id to todo at 0
            
            If id is task_id
                Set found to True
                # Skip this todo (delete it)
            Otherwise
                Set new_todos to append todo to new_todos
            End If
            
            Set index to index plus 1
        End While
        
        If found is True
            Set todos to new_todos
            Write "✓ Task deleted!"
        Otherwise
            Write "✗ Task not found!"
        End If
        
    Otherwise If choice is "5"
        # View by priority
        Write ""
        Write "FILTER BY PRIORITY"
        Write "────────────────────────────────────────"
        Write "1. High Priority"
        Write "2. Medium Priority"
        Write "3. Low Priority"
        Write "Enter filter:"
        Ask for filter
        
        Set target_priority to 1
        Set filter_name to "LOW"
        
        If filter is "1"
            Set target_priority to 3
            Set filter_name to "HIGH"
        Otherwise If filter is "2"
            Set target_priority to 2
            Set filter_name to "MED"
        End If
        
        Write ""
        Write filter_name plus " PRIORITY TASKS:"
        Write "────────────────────────────────────────"
        
        Set count_found to 0
        Set index to 0
        While index less than count of todos
            Set todo to todos at index
            Set id to todo at 0
            Set title to todo at 1
            Set priority to todo at 2
            Set completed to todo at 3
            
            If priority is target_priority
                Set status_icon to "⬜"
                If completed is True
                    Set status_icon to "✅"
                End If
                
                Write "[" plus id plus "] " plus status_icon plus " " plus title
                Set count_found to count_found plus 1
            End If
            
            Set index to index plus 1
        End While
        
        If count_found is 0
            Write "No tasks with this priority."
        End If
        
    Otherwise If choice is "6"
        # View by status
        Write ""
        Write "FILTER BY STATUS"
        Write "────────────────────────────────────────"
        Write "1. Pending Tasks"
        Write "2. Completed Tasks"
        Write "Enter filter:"
        Ask for filter
        
        Set show_completed to False
        Set filter_name to "PENDING"
        
        If filter is "2"
            Set show_completed to True
            Set filter_name to "COMPLETED"
        End If
        
        Write ""
        Write filter_name plus " TASKS:"
        Write "────────────────────────────────────────"
        
        Set count_found to 0
        Set index to 0
        While index less than count of todos
            Set todo to todos at index
            Set id to todo at 0
            Set title to todo at 1
            Set priority to todo at 2
            Set completed to todo at 3
            
            If completed is show_completed
                Set priority_text to "LOW"
                If priority is 2
                    Set priority_text to "MED"
                Otherwise If priority is 3
                    Set priority_text to "HIGH"
                End If
                
                Set status_icon to "⬜"
                If completed is True
                    Set status_icon to "✅"
                End If
                
                Write "[" plus id plus "] " plus status_icon plus " " plus title plus " (" plus priority_text plus ")"
                Set count_found to count_found plus 1
            End If
            
            Set index to index plus 1
        End While
        
        If count_found is 0
            Write "No tasks with this status."
        End If
        
    Otherwise If choice is "7"
        # Search tasks
        Write ""
        Write "SEARCH TASKS"
        Write "────────────────────────────────────────"
        Write "Enter search term:"
        Ask for search_term
        
        Write ""
        Write "SEARCH RESULTS:"
        Write "────────────────────────────────────────"
        
        Set count_found to 0
        Set index to 0
        While index less than count of todos
            Set todo to todos at index
            Set id to todo at 0
            Set title to todo at 1
            Set priority to todo at 2
            Set completed to todo at 3
            
            # Simple search - check if search term appears in title
            # Note: This is a simplified search, real implementation would use string matching
            Set matches to False
            If search_term is not ""
                # For demo, just show all (proper string matching needed)
                Set matches to True
            End If
            
            If matches is True
                Set status_icon to "⬜"
                If completed is True
                    Set status_icon to "✅"
                End If
                
                Set priority_text to "LOW"
                If priority is 2
                    Set priority_text to "MED"
                Otherwise If priority is 3
                    Set priority_text to "HIGH"
                End If
                
                Write "[" plus id plus "] " plus status_icon plus " " plus title plus " (" plus priority_text plus ")"
                Set count_found to count_found plus 1
            End If
            
            Set index to index plus 1
        End While
        
        Write ""
        Write "Found " plus count_found plus " matching tasks"
        
    Otherwise If choice is "8"
        # Statistics
        Write ""
        Write "════════════════════════════════════════"
        Write "        STATISTICS"
        Write "════════════════════════════════════════"
        
        Set total to count of todos
        Set completed_count to 0
        Set pending_count to 0
        Set high_priority to 0
        Set med_priority to 0
        Set low_priority to 0
        
        Set index to 0
        While index less than total
            Set todo to todos at index
            Set priority to todo at 2
            Set completed to todo at 3
            
            If completed is True
                Set completed_count to completed_count plus 1
            Otherwise
                Set pending_count to pending_count plus 1
            End If
            
            If priority is 3
                Set high_priority to high_priority plus 1
            Otherwise If priority is 2
                Set med_priority to med_priority plus 1
            Otherwise
                Set low_priority to low_priority plus 1
            End If
            
            Set index to index plus 1
        End While
        
        Write "Total Tasks: " plus total
        Write "────────────────────────────────────────"
        Write "Status:"
        Write "  ✅ Completed: " plus completed_count
        Write "  ⬜ Pending:   " plus pending_count
        Write ""
        Write "Priority:"
        Write "  🔴 High:   " plus high_priority
        Write "  🟡 Medium: " plus med_priority
        Write "  🟢 Low:    " plus low_priority
        Write ""
        
        If total greater than 0
            Set completion_rate to (completed_count times 100) divided by total
            Write "Completion Rate: " plus completion_rate plus "%"
        End If
        
        Write "════════════════════════════════════════"
        
    Otherwise If choice is "9"
        # Exit
        Set running to False
        Write ""
        Write "════════════════════════════════════════"
        Write "   Thank you for using Todo Manager!"
        Write "        Tasks completed: " plus count of todos
        Write "════════════════════════════════════════"
        
    Otherwise
        Write "❌ Invalid choice! Please enter 1-9."
    End If
End While

End Program
